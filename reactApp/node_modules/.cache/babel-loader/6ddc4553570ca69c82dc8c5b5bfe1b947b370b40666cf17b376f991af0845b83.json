{"ast":null,"code":"export const login = (username, password) => {\n  return fetch('/api/users', {\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    method: 'post',\n    body: JSON.stringify({\n      username: username,\n      password: password\n    })\n  }).then(res => res.json());\n};\nexport const signup = (username, password) => {\n  return fetch('/api/users?action=register', {\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    method: 'post',\n    body: JSON.stringify({\n      username: username,\n      password: password\n    })\n  }).then(res => res.json());\n};\nexport const addFavourite = (username, id) => {\n  return fetch(`/api/users/${username}/favourites`, {\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    method: 'post',\n    body: JSON.stringify({\n      id\n    })\n  }).then(res => res.json());\n};\nexport const getFavourites = async username => {\n  return fetch(`/api/users/${username}/favourites`, {\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    method: 'get'\n  }).then(res => res.json());\n};\nexport const deleteFavourite = (username, movie) => {\n  return fetch(`/api/users/${username}/movie/${movie.id}/favourites`, {\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    method: 'post'\n  }).then(res => res.json());\n};\nexport const getUpcomingMovies = args => {\n  const [, pageNum] = args.queryKey;\n  const {\n    page\n  } = pageNum;\n  return fetch(`/api/movies/tmdb/upcoming/${page}`).then(res => {\n    return res.json();\n  }).catch(error => {\n    console.log(error);\n  });\n};\nexport const getTopRatedMovies = _ref => {\n  let {\n    queryKey\n  } = _ref;\n  const [, pageNum] = queryKey;\n  const {\n    page\n  } = pageNum;\n  return fetch(`/api/movies/tmdb/topRated/${page}`).then(res => {\n    return res.json();\n  }).catch(error => {\n    console.log(error);\n  });\n};\nexport const getMovie = args => {\n  const [, idPart] = args.queryKey;\n  const {\n    id\n  } = idPart;\n  return fetch(`/api/movies/${id}`).then(res => {\n    return res.json();\n  }).catch(error => {\n    console.log(error);\n  });\n};\nexport const getMovieImages = args => {\n  const [, idPart] = args.queryKey;\n  const {\n    id\n  } = idPart;\n  return fetch(`/api/movies/tmdb/movie/${id}/images`).then(res => {\n    return res.json();\n  }).catch(error => {\n    console.log(error);\n  });\n};\nexport const getPerson = args => {\n  const [, idPart] = args.queryKey;\n  const {\n    id\n  } = idPart;\n  return fetch(`/api/actors/${id}`).then(res => {\n    return res.json();\n  }).catch(error => {\n    console.log(error);\n  });\n};\nexport const getPersonImages = _ref2 => {\n  let {\n    queryKey\n  } = _ref2;\n  const [, idPart] = queryKey;\n  const {\n    id\n  } = idPart;\n  return fetch(`/api/actors/${id}/images`).then(res => {\n    return res.json();\n  }).catch(error => {\n    console.log(error);\n  });\n};\nexport const getPopularPeople = () => {\n  return fetch(`/api/actors/popular`).then(res => {\n    return res.json();\n  }).catch(error => {\n    console.log(error);\n  });\n};\nexport const getPersonMovies = _ref3 => {\n  let {\n    queryKey\n  } = _ref3;\n  const [, idPart] = queryKey;\n  const {\n    id\n  } = idPart;\n  return fetch(`/api/actors/${id}/movies`).then(res => {\n    return res.json();\n  }).catch(error => {\n    console.log(error);\n  });\n};\nexport const getGenres = () => {\n  return fetch('/api/genres').then(res => {\n    return res.json();\n  }).catch(error => {\n    console.log(error);\n  });\n};\nexport const addReview = (username, movie, review) => {\n  return fetch(`/api/reviews/movie/${movie.id}/reviews/${username}`, {\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    method: 'post',\n    body: JSON.stringify({\n      author: review.author,\n      movieId: movie.id,\n      content: review.content,\n      rating: review.rating\n    })\n  }).then(res => res.json());\n};\nexport const getMovieReviews = async id => {\n  return fetch(`/api/reviews/movie/${id}/reviews`).then(res => {\n    return res.json();\n  }).catch(error => {\n    console.log(error);\n  });\n};","map":{"version":3,"names":["login","username","password","fetch","headers","method","body","JSON","stringify","then","res","json","signup","addFavourite","id","getFavourites","deleteFavourite","movie","getUpcomingMovies","args","pageNum","queryKey","page","catch","error","console","log","getTopRatedMovies","getMovie","idPart","getMovieImages","getPerson","getPersonImages","getPopularPeople","getPersonMovies","getGenres","addReview","review","author","movieId","content","rating","getMovieReviews"],"sources":["C:/Personal/Project/VS code/movies-api-CA2/reactApp/src/api/movies-api.js"],"sourcesContent":["export const login = (username, password) => {\r\n    return fetch('/api/users', {\r\n        headers: {\r\n            'Content-Type': 'application/json'\r\n        },\r\n        method: 'post',\r\n        body: JSON.stringify({ username: username, password: password })\r\n    }).then(res => res.json())\r\n};\r\n\r\nexport const signup = (username, password) => {\r\n    return fetch('/api/users?action=register', {\r\n        headers: {\r\n            'Content-Type': 'application/json'\r\n        },\r\n        method: 'post',\r\n        body: JSON.stringify({ username: username, password: password })\r\n    }).then(res => res.json())\r\n};\r\n\r\n  \r\n  export const addFavourite = (username, id) => {\r\n    return fetch(`/api/users/${username}/favourites`, {\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n      method: 'post',\r\n      body: JSON.stringify({ id })\r\n    }).then(res => res.json())\r\n  };\r\n  \r\n  export const getFavourites = async (username) => {\r\n    return fetch(`/api/users/${username}/favourites`, {\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n      method: 'get'\r\n    }).then(res => res.json())\r\n  };\r\n  \r\n  export const deleteFavourite = (username, movie) => {\r\n    return fetch(`/api/users/${username}/movie/${movie.id}/favourites`, {\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n      method: 'post'\r\n    }).then(res => res.json())\r\n  };\r\n  \r\n  export const getUpcomingMovies = (args) => {\r\n    const [, pageNum] = args.queryKey;\r\n    const { page } = pageNum;\r\n    return fetch(\r\n      `/api/movies/tmdb/upcoming/${page}`,\r\n    ).then(res => {\r\n       return res.json();\r\n    }).catch((error) => {\r\n       console.log(error);\r\n    });\r\n  };\r\n  \r\n  export const getTopRatedMovies = ({ queryKey }) => {\r\n    const [, pageNum] = queryKey;\r\n    const { page } = pageNum;\r\n    return fetch(\r\n      `/api/movies/tmdb/topRated/${page}`,\r\n    ).then(res => {\r\n       return res.json();\r\n    }).catch((error) => {\r\n       console.log(error);\r\n    });\r\n  };\r\n  \r\n  export const getMovie = (args) => {\r\n    const [, idPart] = args.queryKey;\r\n    const { id } = idPart;\r\n    return fetch(\r\n      `/api/movies/${id}`\r\n    ).then(res => {\r\n      return res.json();\r\n    }).catch((error) => {\r\n      console.log(error);\r\n    });\r\n  };\r\n  \r\n  export const getMovieImages = (args) => {\r\n    const [, idPart] = args.queryKey;\r\n    const { id } = idPart;\r\n    return fetch(\r\n      `/api/movies/tmdb/movie/${id}/images`\r\n    ).then(res => {\r\n      return res.json();\r\n    }).catch((error) => {\r\n      console.log(error);\r\n    });\r\n  };\r\n  \r\n  export const getPerson = (args) => {\r\n    const [, idPart] = args.queryKey;\r\n    const { id } = idPart;\r\n    return fetch(\r\n      `/api/actors/${id}`\r\n    ).then(res => {\r\n      return res.json();\r\n    }).catch((error) => {\r\n      console.log(error);\r\n    });\r\n  };\r\n  \r\n  export const getPersonImages = ({ queryKey }) => {\r\n    const [, idPart] = queryKey;\r\n    const { id } = idPart;\r\n    return fetch(\r\n      `/api/actors/${id}/images`\r\n    ).then(res => {\r\n      return res.json();\r\n    }).catch((error) => {\r\n      console.log(error);\r\n    });\r\n  };\r\n  \r\n  export const getPopularPeople = () => {\r\n    return fetch(\r\n      `/api/actors/popular`\r\n    ).then(res => {\r\n      return res.json();\r\n    }).catch((error) => {\r\n      console.log(error);\r\n    });\r\n  };\r\n  \r\n  export const getPersonMovies = ({ queryKey }) => {\r\n    const [, idPart] = queryKey;\r\n    const { id } = idPart;\r\n    return fetch(\r\n      `/api/actors/${id}/movies`\r\n    ).then(res => {\r\n      return res.json();\r\n    }).catch((error) => {\r\n      console.log(error);\r\n    });\r\n  };\r\n  \r\n  export const getGenres = () => {\r\n    return fetch(\r\n       '/api/genres',\r\n    ).then(res => {\r\n        return res.json();\r\n    }).catch((error) => {\r\n        console.log(error);\r\n    });\r\n  };\r\n  \r\n  export const addReview = (username, movie, review) => {\r\n    return fetch(`/api/reviews/movie/${movie.id}/reviews/${username}`, {\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n      method: 'post',\r\n      body: JSON.stringify({ author: review.author, movieId: movie.id, content: review.content, rating: review.rating })\r\n    }).then(res => res.json())\r\n  };\r\n  \r\n  export const getMovieReviews = async (id) => {\r\n    return fetch(\r\n      `/api/reviews/movie/${id}/reviews`\r\n    ).then(res => {\r\n      return res.json();\r\n    }).catch((error) => {\r\n      console.log(error);\r\n    });\r\n  };"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}